/* XPECT_SETUP org.uqbar.project.wollok.tests.typesystem.xpect.TypeSystemXpectTestCase END_SETUP */

describe "with fixture" {	
	// XPECT type at n --> Number
	var n
	// XPECT type at b --> Boolean
	var b
	
	fixture {
		b = true
	}
	
	// XPECT methodType at blah --> () => Void	
	method blah() {
		// XPECT type at m --> Number
		var m = n
	}
	
	// XPECT methodType at number --> () => Number
	method number() = 0
	
	
	test "test with self" {
		n = self.number()
		// XPECT type at s --> String
		var s = ""
		/* PECT! warnings --- 
			"Type system: expected <<String>> but found <<Number>>" at "s"
			"Type system: expected <<Number>> but found <<String>>" at "n"
		--- */
		assert.equals(n, s)
	}
}